config done
socket setting done
event occured 1
start init socket
5 is add to vec
5
client accepted
5
event occured 1
before mainprocess: events.ident= 5
connectionmap size = 1
5
progress: 0 event.filter: -1
mainprocess for fd: 5
5


원본 메시지
GET / HTTP/1.1
Host: localhost
Connection: keep-alive
Cache-Control: max-age=0
sec-ch-ua: "Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6




1
2
2
2
2
2
2
2
2
2
2
2
2
2
2
2
2
3, 0
8, 0
파싱 메시지
0 / HTTP/1.1
accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'
accept-encoding: 'gzip, deflate, br'
accept-language: 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6'
cache-control: 'max-age=0'
connection: 'keep-alive'
host: 'localhost'
sec-ch-ua: '"Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"'
sec-ch-ua-mobile: '?0'
sec-ch-ua-platform: '"macOS"'
sec-fetch-dest: 'document'
sec-fetch-mode: 'navigate'
sec-fetch-site: 'none'
sec-fetch-user: '?1'
upgrade-insecure-requests: '1'
user-agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36'
''
status = 0
read done0x7f928e406100
url: /
findurl: /
longest: 1
url: /
url: /
findurl: /cgi-bin
path: ./usr/html/
processdir
2
indexpath: ./usr/html/index.html
processfile
kq: 4
event occured 1
before mainprocess: events.ident= 6
connectionmap size = 2
5
progress: 3 event.filter: -1
mainprocess for fd: 5
<!DOCTYPE html>
<html>
<head>
<title>Welcome to 42nginx!</title>
<style>
html { color-scheme: light dark; }
body {
	font-family: Arial, sans-serif;
	margin: 0;
	display: flex;
	flex-direction: column;
	align-items: center;
	height: 100vh;
}
header {
	width: 100%;
	background-color: #f8f9fa;
	padding: 20px 0;
	text-align: center;
	box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
header h1 {
	margin: 0;
	font-size: 24px;
	color: #333;
}
main {
	display: flex;
	justify-content: center;
	width: 80%;
	margin-top: auto;
	margin-bottom: auto;
}
section {
	flex: 1;
	margin: 0 10px;
	padding: 20px;
	box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	background-color: #fff;
	text-align: center;
}
section h2 {
	font-size: 18px;
	color: #555;
}
section input, section button {
	width: 80%;
	padding: 10px;
	margin: 10px 0;
	box-sizing: border-box;
}
section button {
	background-color: #007bff;
	color: #fff;
	border: none;
	cursor: pointer;
	margin-top: 10px;
}
section button:hover {
	background-color: #0056b3;
}
.response {
	width: 80%;
	margin-top: 20px;
	padding: 20px;
	border: 1px solid #ccc;
	background-color: #f9f9f9;
	text-align: left;
}
</style>
</head>
<body>
	<header>
		<h1>WEBSERV TEST</h1>
	</header>

	<main>
		<section>
			<h2>GET</h2>
			<button onclick="">GET BUTTON</button>
		</section>
		<section>
			<h2>UPLOAD FILE</h2>
				<input type="file" name="fileToUpload" id="fileToUpload">
				<button type="submit">UPLOAD BUTTON</button>
		</section>	

		<section>
			<h2>DELETE FILE</h2>
			<button onclick="">DELETE BUTTON</button>
		</section>
	</main>

</body>
</html>
kq: 4
1572: readfile done
do combine
kq: 4
event occured 2
before mainprocess: events.ident= 5
connectionmap size = 1
5
progress: 4 event.filter: -2
mainprocess for fd: 5
sendMessage
messagesize: 1688
send_size = 1688
remove read event
v_connection size: 1
close connection 5
start init socket
5 is add to vec
5
client accepted
5
event occured 1
before mainprocess: events.ident= 5
connectionmap size = 1
5
progress: 0 event.filter: -1
mainprocess for fd: 5
5


원본 메시지
GET /favicon.ico HTTP/1.1
Host: localhost
Connection: keep-alive
sec-ch-ua: "Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"
sec-ch-ua-mobile: ?0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36
sec-ch-ua-platform: "macOS"
Accept: image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: no-cors
Sec-Fetch-Dest: image
Referer: http://localhost/
Accept-Encoding: gzip, deflate, br
Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6




1
2
2
2
2
2
2
2
2
2
2
2
2
2
2
3, 0
8, 0
파싱 메시지
0 /favicon.ico HTTP/1.1
accept: 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8'
accept-encoding: 'gzip, deflate, br'
accept-language: 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6'
connection: 'keep-alive'
host: 'localhost'
referer: 'http://localhost/'
sec-ch-ua: '"Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"'
sec-ch-ua-mobile: '?0'
sec-ch-ua-platform: '"macOS"'
sec-fetch-dest: 'image'
sec-fetch-mode: 'no-cors'
sec-fetch-site: 'same-origin'
user-agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36'
''
status = 0
read done0x7f928e406100
url: /favicon.ico
findurl: /
longest: 1
url: /favicon.ico
url: /favicon.ico
findurl: /cgi-bin
path: ./usr/html/favicon.ico
processfile
processfile: open failed
event occured 1
start init socket
6 is add to vec
6
client accepted
6
event occured 1
before mainprocess: events.ident= 6
connectionmap size = 2
6
progress: 0 event.filter: -1
mainprocess for fd: 6
6


원본 메시지
GET / HTTP/1.1
Host: localhost
Connection: keep-alive
Cache-Control: max-age=0
sec-ch-ua: "Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6




1
2
2
2
2
2
2
2
2
2
2
2
2
2
2
2
2
3, 0
8, 0
파싱 메시지
0 / HTTP/1.1
accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'
accept-encoding: 'gzip, deflate, br'
accept-language: 'ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7,de;q=0.6'
cache-control: 'max-age=0'
connection: 'keep-alive'
host: 'localhost'
sec-ch-ua: '"Chromium";v="116", "Not)A;Brand";v="24", "Google Chrome";v="116"'
sec-ch-ua-mobile: '?0'
sec-ch-ua-platform: '"macOS"'
sec-fetch-dest: 'document'
sec-fetch-mode: 'navigate'
sec-fetch-site: 'none'
sec-fetch-user: '?1'
upgrade-insecure-requests: '1'
user-agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36'
''
status = 0
read done0x7f928e406100
url: /
findurl: /
longest: 1
url: /
url: /
findurl: /cgi-bin
path: ./usr/html/
processdir
2
indexpath: ./usr/html/index.html
processfile
kq: 4
event occured 1
before mainprocess: events.ident= 7
connectionmap size = 3
6
progress: 3 event.filter: -1
mainprocess for fd: 6
<!DOCTYPE html>
<html>
<head>
<title>Welcome to 42nginx!</title>
<style>
html { color-scheme: light dark; }
body {
	font-family: Arial, sans-serif;
	margin: 0;
	display: flex;
	flex-direction: column;
	align-items: center;
	height: 100vh;
}
header {
	width: 100%;
	background-color: #f8f9fa;
	padding: 20px 0;
	text-align: center;
	box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
header h1 {
	margin: 0;
	font-size: 24px;
	color: #333;
}
main {
	display: flex;
	justify-content: center;
	width: 80%;
	margin-top: auto;
	margin-bottom: auto;
}
section {
	flex: 1;
	margin: 0 10px;
	padding: 